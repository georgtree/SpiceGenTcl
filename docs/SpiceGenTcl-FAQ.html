<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>FAQ &#8212; SpiceGenTcl  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css?v=514cf933" />
    
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="SpiceGenTcl-Tutorials.html" />
    <link rel="prev" title="List of devices" href="SpiceGenTcl-List-of-devices.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="SpiceGenTcl-Tutorials.html" title="Tutorials"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="SpiceGenTcl-List-of-devices.html" title="List of devices"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SpiceGenTcl  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">FAQ</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="faq">
<span id="r-faq"></span><span id="r-3a3afaq"></span><h1>FAQ<a class="headerlink" href="#faq" title="Link to this heading">¶</a></h1>
<p>The most frequent questions are collected here.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#r-3a3afaqqzwhere20to20find20list20of20availible20arguments20for20devices2c20models20and20analyses3f"><span class="std std-ref">Where to find list of availible arguments for devices, models and analyses?</span></a></p></li>
<li><p><a class="reference internal" href="#r-3a3afaqqzhow20to20use20different20simulators20for20the20same20circuit2028managing20namespaces293f"><span class="std std-ref">How to use different simulators for the same circuit (managing namespaces)?</span></a></p></li>
<li><p><a class="reference internal" href="#r-3a3afaqqzhow20to20change20parameter20of20existing20element3f"><span class="std std-ref">How to change parameter of existing element?</span></a></p></li>
<li><p><a class="reference internal" href="#r-3a3afaqqzis20scaling20suffixes20allowed3f"><span class="std std-ref">Is scaling suffixes allowed?</span></a></p></li>
<li><p><a class="reference internal" href="#r-3a3afaqqzhow20to20change20node20name20connected20to20pin20of20existing20element3f"><span class="std std-ref">How to change node name connected to pin of existing element?</span></a></p></li>
<li><p><a class="reference internal" href="#r-3a3afaqqzhow20to20find20the20list20of20optional20parameters20for20elements3f"><span class="std std-ref">How to find the list of optional parameters for elements?</span></a></p></li>
<li><p><a class="reference internal" href="#r-3a3afaqqzhow20to20get20raw20data20after20simulation3f"><span class="std std-ref">How to get raw data after simulation?</span></a></p></li>
<li><p><a class="reference internal" href="#r-3a3afaqqzhow20to20get20the20names20of20all20vectors20in20raw20file3f"><span class="std std-ref">How to get the names of all vectors in raw file?</span></a></p></li>
<li><p><a class="reference internal" href="#r-3a3afaqqzhow20to20get20log20file20after20simulation3f"><span class="std std-ref">How to get log file after simulation?</span></a></p></li>
<li><p><a class="reference internal" href="#r-3a3afaqqzhow20to20save20result20traces20in20comma2dseparated20file20format2028csv293f"><span class="std std-ref">How to save result traces in comma-separated file format (csv)?</span></a></p></li>
</ul>
<section id="where-to-find-list-of-availible-arguments-for-devices-models-and-analyses">
<span id="r-faq-where-to-find-list-of-availible-arguments-for-devices-models-and-analyses"></span><span id="r-3a3afaqqzwhere20to20find20list20of20availible20arguments20for20devices2c20models20and20analyses3f"></span><h2>Where to find list of availible arguments for devices, models and analyses?<a class="headerlink" href="#where-to-find-list-of-availible-arguments-for-devices-models-and-analyses" title="Link to this heading">¶</a></h2>
<p>For the selected simulator, you need to open the documentation for the corresponding namespace, such as
Ngspice. Then, select the category you are interested in:</p>
<ul class="simple">
<li><p><a class="reference internal" href="SpiceGenTcl-SpiceGenTcl-Ngspice-BasicDevices.html#r-3a3aspicegentcl3a3angspice3a3abasicdevices"><span class="std std-ref">::SpiceGenTcl::Ngspice::BasicDevices</span></a> - for basic devices like resistors, capacitors, etc.</p></li>
<li><p><a class="reference internal" href="SpiceGenTcl-SpiceGenTcl-Ngspice-Sources.html#r-3a3aspicegentcl3a3angspice3a3asources"><span class="std std-ref">::SpiceGenTcl::Ngspice::Sources</span></a> - for current and voltage sources.</p></li>
<li><p><a class="reference internal" href="SpiceGenTcl-SpiceGenTcl-Ngspice-SemiconductorDevices.html#r-3a3aspicegentcl3a3angspice3a3asemiconductordevices"><span class="std std-ref">::SpiceGenTcl::Ngspice::SemiconductorDevices</span></a> - for semiconductor devices like diodes, transistors, etc.</p></li>
<li><p><a class="reference internal" href="SpiceGenTcl-SpiceGenTcl-Ngspice-Analyses.html#r-3a3aspicegentcl3a3angspice3a3aanalyses"><span class="std std-ref">::SpiceGenTcl::Ngspice::Analyses</span></a> - for availible analysis for selected simulator.</p></li>
</ul>
<p>Check out <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl-Ngspice-BasicDevices.html#r-3a3aspicegentcl3a3angspice3a3abasicdevices3a3aresistor"><span class="std std-ref">::SpiceGenTcl::Ngspice::BasicDevices::Resistor</span></a> as an example.</p>
<p>There, you can find a list of all available methods, a description of the arguments, an example of how the
element string appears in the netlist, and an example of creating an object of the Resistor class.</p>
</section>
<section id="how-to-use-different-simulators-for-the-same-circuit-managing-namespaces">
<span id="r-faq-how-to-use-different-simulators-for-the-same-circuit-managing-namespaces"></span><span id="r-3a3afaqqzhow20to20use20different20simulators20for20the20same20circuit2028managing20namespaces293f"></span><h2>How to use different simulators for the same circuit (managing namespaces)?<a class="headerlink" href="#how-to-use-different-simulators-for-the-same-circuit-managing-namespaces" title="Link to this heading">¶</a></h2>
<p>Each supported simulator has its own namespace. For example, <code class="docutils literal notranslate"><span class="pre">::SpiceGenTcl::Ngspice</span></code> is used for Ngspice,
and <code class="docutils literal notranslate"><span class="pre">::SpiceGenTcl::Xyce</span></code> is used for Xyce. Additionally, there is the <code class="docutils literal notranslate"><span class="pre">::SpiceGenTcl::Common</span></code> namespace for
devices with syntax that is compatible across most simulators.</p>
<p>To use a particular simulator, you can call <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3aimportngspice"><span class="std std-ref">::SpiceGenTcl::importNgspice</span></a> or <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3aimportxyce"><span class="std std-ref">::SpiceGenTcl::importXyce</span></a> to
import all command names into the current scope. This approach is convenient because it minimizes code changes.
Using full command paths would be more cumbersome. Many elements share the same interface (such as nodes and
parameters), so the same code works with different simulators with minimal modifications.</p>
<p>You can also import element commands individually, like this:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span><span class="w"> </span>import<span class="w"> </span><span class="o">::</span>SpiceGenTcl::Ngspice::R
</pre></div>
</div>
<p>This allows you to import the appropriate simulator in conditional statements, depending on a global variable
that defines the simulator currently in use.</p>
</section>
<section id="how-to-change-parameter-of-existing-element">
<span id="r-faq-how-to-change-parameter-of-existing-element"></span><span id="r-3a3afaqqzhow20to20change20parameter20of20existing20element3f"></span><h2>How to change parameter of existing element?<a class="headerlink" href="#how-to-change-parameter-of-existing-element" title="Link to this heading">¶</a></h2>
<p>For all elements with parameters you can change parameter value by its name with method
<a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3adevice3a3aactonparam"><span class="std std-ref">::SpiceGenTcl::Device::actOnParam</span></a> with selected action <code class="docutils literal notranslate"><span class="pre">-set</span></code>.</p>
<p>For example here we change the resistance value of basic resistor:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nv">$resistor</span><span class="w"> </span><span class="nv">actOnParam</span><span class="w"> </span><span class="o">-</span>set<span class="w"> </span>r<span class="w"> </span><span class="mi">100</span>
</pre></div>
</div>
<p>The name of the parameter can be found in the documentation
<a class="reference external" href="[::SpiceGenTcl::Ngspice::BasicDevices::Resistor]">here</a>.
In the parameter table, the option for resistance is labeled <code class="docutils literal notranslate"><span class="pre">-r</span></code>, so the name used for resistance is ‘r’.</p>
<p>Another option is to call the <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3adevice3a3aactonparam"><span class="std std-ref">::SpiceGenTcl::Device::actOnParam</span></a> method, with action <code class="docutils literal notranslate"><span class="pre">-get</span></code> and option <code class="docutils literal notranslate"><span class="pre">-all</span></code>
which define returning a dictionary of all parameters with their values. For example:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="c"># create resistor</span>
<span class="k">set</span><span class="w"> </span>resistor<span class="w"> </span><span class="k">[</span><span class="nv">R</span><span class="w"> </span>new<span class="w"> </span><span class="mi">1</span><span class="w"> </span>net1<span class="w"> </span>net2<span class="w"> </span><span class="o">-</span>r<span class="w"> </span><span class="mi">10</span><span class="k">]</span>
<span class="nb">puts</span><span class="w"> </span><span class="k">[</span><span class="nv">$resistor</span><span class="w"> </span><span class="nv">actOnParam</span><span class="w"> </span><span class="o">-</span>get<span class="w"> </span><span class="o">-</span>all<span class="k">]</span>
</pre></div>
</div>
<p>It returns:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>r 10
</pre></div>
</div>
<p>So parameter name is ‘r’ with value ‘10’.</p>
</section>
<section id="is-scaling-suffixes-allowed">
<span id="r-faq-is-scaling-suffixes-allowed"></span><span id="r-3a3afaqqzis20scaling20suffixes20allowed3f"></span><h2>Is scaling suffixes allowed?<a class="headerlink" href="#is-scaling-suffixes-allowed" title="Link to this heading">¶</a></h2>
<p>Yes, for numerical values scaling suffixes are allowed, the full list is: f p n u m k meg g t.
It must be placed after the numerical value, for example, 10u or 10Meg. Alphabetic values after the scaling
suffix are also allowed.</p>
</section>
<section id="how-to-change-node-name-connected-to-pin-of-existing-element">
<span id="r-faq-how-to-change-node-name-connected-to-pin-of-existing-element"></span><span id="r-3a3afaqqzhow20to20change20node20name20connected20to20pin20of20existing20element3f"></span><h2>How to change node name connected to pin of existing element?<a class="headerlink" href="#how-to-change-node-name-connected-to-pin-of-existing-element" title="Link to this heading">¶</a></h2>
<p>For all elements with pins, you can change the connected node’s name by using the pin name with the method
<a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3adevice3a3aactonpin"><span class="std std-ref">::SpiceGenTcl::Device::actOnPin</span></a> with option <code class="docutils literal notranslate"><span class="pre">-set</span></code>.</p>
<p>For example, here we change the node name of the basic resistor’s positive pin:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nv">$resistor</span><span class="w"> </span><span class="nv">actOnPin</span><span class="w"> </span><span class="o">-</span>set<span class="w"> </span>np<span class="w"> </span>net10
</pre></div>
</div>
<p>The pin name can be found in the documentation <a class="reference external" href="[::SpiceGenTcl::Ngspice::BasicDevices::Resistor]">here</a>.
In the parameter table, the pins are listed as <code class="docutils literal notranslate"><span class="pre">npNode</span></code> and <code class="docutils literal notranslate"><span class="pre">nmNode</span></code>, so the names used for the positive and
negative pins are ‘np’ and ‘nm’, respectively. This <code class="docutils literal notranslate"><span class="pre">pin_nameNode</span></code> convention applies to all elements in the
package.</p>
<p>Another option is to call the <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3adevice3a3aactonpin"><span class="std std-ref">::SpiceGenTcl::Device::actOnPin</span></a> method, with action <code class="docutils literal notranslate"><span class="pre">-get</span></code> and option <code class="docutils literal notranslate"><span class="pre">-all</span></code>
which define returning a dictionary of all pins with their connected node names. For example:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="c"># create resistor</span>
<span class="k">set</span><span class="w"> </span>resistor<span class="w"> </span><span class="k">[</span><span class="nv">R</span><span class="w"> </span>new<span class="w"> </span><span class="mi">1</span><span class="w"> </span>net1<span class="w"> </span>net2<span class="w"> </span><span class="o">-</span>r<span class="w"> </span><span class="mi">10</span><span class="k">]</span>
<span class="nb">puts</span><span class="w"> </span><span class="k">[</span><span class="nv">$resistor</span><span class="w"> </span><span class="nv">actOnPin</span><span class="w"> </span><span class="o">-</span>get<span class="w"> </span><span class="o">-</span>all<span class="k">]</span>
</pre></div>
</div>
<p>It returns:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>np net1 nm net2
</pre></div>
</div>
<p>So pins names are ‘np’ and ‘nm’ with connected nets ‘net1’ and ‘net2’.</p>
</section>
<section id="how-to-find-the-list-of-optional-parameters-for-elements">
<span id="r-faq-how-to-find-the-list-of-optional-parameters-for-elements"></span><span id="r-3a3afaqqzhow20to20find20the20list20of20optional20parameters20for20elements3f"></span><h2>How to find the list of optional parameters for elements?<a class="headerlink" href="#how-to-find-the-list-of-optional-parameters-for-elements" title="Link to this heading">¶</a></h2>
<p>The list of parameters in the documentation includes descriptions of the mandatory arguments and availible
options. But for some elements, especially models, there could be dozens of parameters, and I wanted to avoid
cluttering the documentation.</p>
<p>Typically, any optional parameters for elements are also optional in the simulator they relate to, so you can
find a list of them in the simulator’s manual. The convention for these parameters is <code class="docutils literal notranslate"><span class="pre">-nameOfParam</span> <span class="pre">value</span></code>.
For example, for a basic resistor in Ngspice, you can provide values for the temperature coefficients, ‘tc1’
and ‘tc2’. In SpiceGenTcl, these are added during the initialization of the resistor like this:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="k">set</span><span class="w"> </span>resistor<span class="w"> </span><span class="k">[</span><span class="nv">R</span><span class="w"> </span>new<span class="w"> </span><span class="mi">1</span><span class="w"> </span>net1<span class="w"> </span>net2<span class="w"> </span><span class="o">-</span>r<span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">-</span>tc1<span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="o">-</span>tc2<span class="w"> </span><span class="mf">0.4</span><span class="k">]</span>
</pre></div>
</div>
<p>Here we provide the mandatory parameters:</p>
<ul class="simple">
<li><p>name of device without ‘R’ designator: ‘1’</p></li>
<li><p>nets connected to pins: ‘net1’ and ‘net2’</p></li>
<li><p>value of resistance: ‘-r 10’ Parameters ‘tc1’ and ‘tc2’ are provided here as optional arguments.</p></li>
</ul>
<p>In recent versions the <code class="docutils literal notranslate"><span class="pre">-help</span></code> switch is availible for most elements and models, so to get information about
possible parameters, call construtor with switch <code class="docutils literal notranslate"><span class="pre">-help</span></code> in interactive tclsh terminal:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nv">R</span><span class="w"> </span>new<span class="w"> </span><span class="o">-</span>help
</pre></div>
</div>
<p>Result is:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Creates object of class `Resistor` that describes resistor. Can accepts
unambiguous prefixes instead of switches names. Allows switches to appear after
parameters.
    Switches:
        -r - Expects argument. Resistance value or equation.
        -beh - . Requires r. Forbids model.
        -model - Expects argument. . Forbids beh.
        -ac - Expects argument. AC resistance value. Forbids model or beh.
        -m - Expects argument. Multiplier value. Forbids beh.
        -scale - Expects argument. Scaling factor. Forbids beh.
        -temp - Expects argument. Device temperature. Forbids beh or dtemp.
        -dtemp - Expects argument. Temperature offset. Forbids beh or temp.
        -tc1 - Expects argument. Linear thermal coefficient. Forbids model.
        -tc2 - Expects argument. Quadratic thermal coefficient. Forbids model.
        -noisy - Expects argument. Selects noise behaviour. Value must be one
            of: 0 or 1.
        -l - Expects argument. Length of semiconductor resistor. Requires model.
        -w - Expects argument. Width of semiconductor resistor. Requires model.
    Parameters:
        name - Name of the device without first-letter designator.
        npNode - Name of node connected to positive pin.
        nmNode - Name of node connected to negative pin.
</pre></div>
</div>
</section>
<section id="how-to-get-raw-data-after-simulation">
<span id="r-faq-how-to-get-raw-data-after-simulation"></span><span id="r-3a3afaqqzhow20to20get20raw20data20after20simulation3f"></span><h2>How to get raw data after simulation?<a class="headerlink" href="#how-to-get-raw-data-after-simulation" title="Link to this heading">¶</a></h2>
<p>After a successful simulation, an object of the <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3arawfile"><span class="std std-ref">::SpiceGenTcl::RawFile</span></a> class is created and attached to the
top-level <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3acircuit"><span class="std std-ref">::SpiceGenTcl::Circuit</span></a> object. To retrieve the result vectors, simply call the
<a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3acircuit3a3agetdatadict"><span class="std std-ref">::SpiceGenTcl::Circuit::getDataDict</span></a> method on the <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3acircuit"><span class="std std-ref">::SpiceGenTcl::Circuit</span></a> object. This method returns the
result vectors as a dictionary, with vector names as keys and the vectors themselves as values. You can then
access these vectors using the <code class="docutils literal notranslate"><span class="pre">dget</span></code> command.</p>
<p>Example:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="k">set</span><span class="w"> </span>data<span class="w"> </span><span class="k">[</span><span class="nv">$circuit</span><span class="w"> </span><span class="nv">getDataDict</span><span class="k">]</span>
<span class="k">set</span><span class="w"> </span>axisList<span class="w"> </span><span class="k">[</span><span class="nv">dget</span><span class="w"> </span><span class="nv">$data</span><span class="w"> </span>v<span class="k">(</span><span class="nv">anode</span><span class="k">)]</span>
<span class="k">set</span><span class="w"> </span>traceList<span class="w"> </span><span class="k">[</span><span class="nv">dget</span><span class="w"> </span><span class="nv">$data</span><span class="w"> </span>i<span class="k">(</span><span class="nv">va</span><span class="k">)]</span>
</pre></div>
</div>
</section>
<section id="how-to-get-the-names-of-all-vectors-in-raw-file">
<span id="r-faq-how-to-get-the-names-of-all-vectors-in-raw-file"></span><span id="r-3a3afaqqzhow20to20get20the20names20of20all20vectors20in20raw20file3f"></span><h2>How to get the names of all vectors in raw file?<a class="headerlink" href="#how-to-get-the-names-of-all-vectors-in-raw-file" title="Link to this heading">¶</a></h2>
<p>For this task, you should first retrieve the <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3arawfile"><span class="std std-ref">::SpiceGenTcl::RawFile</span></a> object reference from the
<a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3acircuit"><span class="std std-ref">::SpiceGenTcl::Circuit</span></a> object using the <code class="docutils literal notranslate"><span class="pre">configure</span> <span class="pre">-data</span></code> method. Then, call the
<a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3arawfile3a3agetvariablesnames"><span class="std std-ref">::SpiceGenTcl::RawFile::getVariablesNames</span></a> method, which returns a list of all variable names.</p>
<p>Example:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="k">set</span><span class="w"> </span>rawFileObj<span class="w"> </span><span class="k">[</span><span class="nv">$circuit</span><span class="w"> </span><span class="nv">configure</span><span class="w"> </span><span class="o">-</span>data<span class="k">]</span>
<span class="nb">puts</span><span class="w"> </span><span class="k">[</span><span class="nv">$rawFileObj</span><span class="w"> </span><span class="nv">getVariablesNames</span><span class="k">]</span>
</pre></div>
</div>
<p>There are also methods for retrieve all voltages and currents names separated from each other:
<a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3arawfile3a3agetvoltagesnames"><span class="std std-ref">::SpiceGenTcl::RawFile::getVoltagesNames</span></a> and <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3arawfile3a3agetcurrentsnames"><span class="std std-ref">::SpiceGenTcl::RawFile::getCurrentsNames</span></a>.</p>
</section>
<section id="how-to-get-log-file-after-simulation">
<span id="r-faq-how-to-get-log-file-after-simulation"></span><span id="r-3a3afaqqzhow20to20get20log20file20after20simulation3f"></span><h2>How to get log file after simulation?<a class="headerlink" href="#how-to-get-log-file-after-simulation" title="Link to this heading">¶</a></h2>
<p>There is a property method for it in object of <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3acircuit"><span class="std std-ref">::SpiceGenTcl::Circuit</span></a> class - <code class="docutils literal notranslate"><span class="pre">configure</span> <span class="pre">-log</span></code>, it returns
string containing log file.</p>
<p>Example:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nb">puts</span><span class="w"> </span><span class="k">[</span><span class="nv">$circuit</span><span class="w"> </span><span class="nv">configure</span><span class="w"> </span><span class="o">-</span>log<span class="k">]</span>
</pre></div>
</div>
</section>
<section id="how-to-save-result-traces-in-comma-separated-file-format-csv">
<span id="r-faq-how-to-save-result-traces-in-comma-separated-file-format-csv"></span><span id="r-3a3afaqqzhow20to20save20result20traces20in20comma2dseparated20file20format2028csv293f"></span><h2>How to save result traces in comma-separated file format (csv)?<a class="headerlink" href="#how-to-save-result-traces-in-comma-separated-file-format-csv" title="Link to this heading">¶</a></h2>
<p>After simulation is done, you can use <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3acircuit"><span class="std std-ref">::SpiceGenTcl::Circuit</span></a> class method <a class="reference internal" href="SpiceGenTcl-SpiceGenTcl.html#r-3a3aspicegentcl3a3acircuit3a3agetdatacsv"><span class="std std-ref">::SpiceGenTcl::Circuit::getDataCsv</span></a>
to get string formatted with csv. You can get all traces with the flag <code class="docutils literal notranslate"><span class="pre">-all</span></code>, or select individual traces
by providing name after <code class="docutils literal notranslate"><span class="pre">-traces</span></code> switch. Also you can define column separator after the flag <code class="docutils literal notranslate"><span class="pre">-sep</span></code>.</p>
<p>For example, we modify <code class="docutils literal notranslate"><span class="pre">resistor_divider.tcl</span></code> example and convert <code class="docutils literal notranslate"><span class="pre">v(in)</span></code> and <code class="docutils literal notranslate"><span class="pre">v(out)</span></code> traces to csv string:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="k">set</span><span class="w"> </span>circuit<span class="w"> </span><span class="k">[</span><span class="nv">Circuit</span><span class="w"> </span>new<span class="w"> </span><span class="k">{</span><span class="nv">voltage</span><span class="w"> </span>divider<span class="w"> </span>netlist<span class="k">}]</span>
<span class="nv">$circuit</span><span class="w"> </span><span class="nv">add</span><span class="w"> </span><span class="k">[</span><span class="nv">Vdc</span><span class="w"> </span>new<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">-</span>dc<span class="w"> </span><span class="mi">1</span><span class="k">]</span>
<span class="nv">$circuit</span><span class="w"> </span><span class="nv">add</span><span class="w"> </span><span class="k">[</span><span class="nv">R</span><span class="w"> </span>new<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span>out<span class="w"> </span><span class="o">-</span>r<span class="w"> </span><span class="mi">1</span>e3<span class="k">]</span>
<span class="nv">$circuit</span><span class="w"> </span><span class="nv">add</span><span class="w"> </span><span class="k">[</span><span class="nv">R</span><span class="w"> </span>new<span class="w"> </span><span class="mi">2</span><span class="w"> </span>out<span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">-</span>r<span class="w"> </span><span class="mi">2</span>e3<span class="k">]</span>
<span class="nv">$circuit</span><span class="w"> </span><span class="nv">add</span><span class="w"> </span><span class="k">[</span><span class="nv">Dc</span><span class="w"> </span>new<span class="w"> </span><span class="o">-</span>src<span class="w"> </span>v1<span class="w"> </span><span class="o">-</span>start<span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">-</span>stop<span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span>incr<span class="w"> </span><span class="mi">1</span><span class="k">]</span>
<span class="k">set</span><span class="w"> </span>simulator<span class="w"> </span><span class="k">[</span><span class="nv">Batch</span><span class="w"> </span>new<span class="w"> </span><span class="k">{</span><span class="nv">batch1</span><span class="k">}]</span>
<span class="nv">$circuit</span><span class="w"> </span><span class="nv">configure</span><span class="w"> </span><span class="o">-</span>simulator<span class="w"> </span><span class="nv">$simulator</span>
<span class="nv">$circuit</span><span class="w"> </span><span class="nv">runAndRead</span>
<span class="k">set</span><span class="w"> </span>data<span class="w"> </span><span class="k">[</span><span class="nv">$circuit</span><span class="w"> </span><span class="nv">getDataCsv</span><span class="w"> </span><span class="o">-</span>traces<span class="w"> </span>v<span class="k">(</span><span class="nv">in</span><span class="k">)</span><span class="w"> </span>v<span class="k">(</span><span class="nv">out</span><span class="k">)]</span>
<span class="nb">puts</span><span class="w"> </span><span class="nv">$data</span>
</pre></div>
</div>
<p>Resulted string is:</p>
<div class="highlight-csv notranslate"><div class="highlight"><pre><span></span>v(in),v(out)
0.0,0.0
1.0,0.6666666666666666
2.0,1.3333333333333333
3.0,2.0
4.0,2.6666666666666665
5.0,3.333333333333333
</pre></div>
</div>
<p>Then we can save this string to file:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="k">set</span><span class="w"> </span>file<span class="w"> </span><span class="k">[</span><span class="nb">open</span><span class="w"> </span>file.csv<span class="w"> </span>w<span class="o">+</span><span class="k">]</span>
<span class="nb">puts</span><span class="w"> </span><span class="nv">$file</span><span class="w"> </span><span class="nv">$data</span>
<span class="nb">close</span><span class="w"> </span><span class="nv">$file</span>
</pre></div>
</div>
<hr class="docutils" />
<p class="centered">
<strong>Copyright (c) George Yashin</strong></p></section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">FAQ</a><ul>
<li><a class="reference internal" href="#where-to-find-list-of-availible-arguments-for-devices-models-and-analyses">Where to find list of availible arguments for devices, models and analyses?</a></li>
<li><a class="reference internal" href="#how-to-use-different-simulators-for-the-same-circuit-managing-namespaces">How to use different simulators for the same circuit (managing namespaces)?</a></li>
<li><a class="reference internal" href="#how-to-change-parameter-of-existing-element">How to change parameter of existing element?</a></li>
<li><a class="reference internal" href="#is-scaling-suffixes-allowed">Is scaling suffixes allowed?</a></li>
<li><a class="reference internal" href="#how-to-change-node-name-connected-to-pin-of-existing-element">How to change node name connected to pin of existing element?</a></li>
<li><a class="reference internal" href="#how-to-find-the-list-of-optional-parameters-for-elements">How to find the list of optional parameters for elements?</a></li>
<li><a class="reference internal" href="#how-to-get-raw-data-after-simulation">How to get raw data after simulation?</a></li>
<li><a class="reference internal" href="#how-to-get-the-names-of-all-vectors-in-raw-file">How to get the names of all vectors in raw file?</a></li>
<li><a class="reference internal" href="#how-to-get-log-file-after-simulation">How to get log file after simulation?</a></li>
<li><a class="reference internal" href="#how-to-save-result-traces-in-comma-separated-file-format-csv">How to save result traces in comma-separated file format (csv)?</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="SpiceGenTcl-List-of-devices.html"
                          title="previous chapter">List of devices</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="SpiceGenTcl-Tutorials.html"
                          title="next chapter">Tutorials</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/SpiceGenTcl-FAQ.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="SpiceGenTcl-Tutorials.html" title="Tutorials"
             >next</a> |</li>
        <li class="right" >
          <a href="SpiceGenTcl-List-of-devices.html" title="List of devices"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SpiceGenTcl  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">FAQ</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright George Yashin.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>