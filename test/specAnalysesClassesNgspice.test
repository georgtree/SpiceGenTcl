lappend auto_path "../"
package require tcltest
package require SpiceGenTcl
namespace import ::tcltest::*
namespace import ::SpiceGenTcl::*
set ngspiceNameSpc [namespace children ::SpiceGenTcl::Ngspice]
foreach nameSpc $ngspiceNameSpc {
    namespace import ${nameSpc}::*
}


    # ________________________ Dc class tests _________________________ #
    
test testDcClass-1.1 {test Dc class} -setup {
    set res [Dc new v1 {time1 -eq} 5 0.1 -name dc1]
} -body {
    set result [$res genSPICEString]
} -result ".dc v1 \{time1\} 5 0.1"

test testDcClass-1.2 {test Dc class} -setup {
    set res [Dc new v1 0 5 0.1]
} -body {
    set result [$res genSPICEString]
} -result ".dc v1 0 5 0.1"

    # ________________________ Ac class tests _________________________ #
    
test testAcClass-1.1 {test Ac class} -setup {
    set res [Ac new dec 10 {f1 -eq} 1e6 -name ac1]
} -body {
    set result [$res genSPICEString]
} -result ".ac dec 10 \{f1\} 1e6"

test testAcClass-1.2 {test Ac class} -setup {
    set res [Ac new lin 1000 1 1e6]
} -body {
    set result [$res genSPICEString]
} -result ".ac lin 1000 1 1e6"

    # ________________________ SensAc class tests _________________________ #
    
test testSensAcClass-1.1 {test SensAc class} -setup {
    set res [SensAc new v(1,out) dec 10 {f1 -eq} 1e6 -name sensac1]
} -body {
    set result [$res genSPICEString]
} -result ".sens v(1,out) ac dec 10 \{f1\} 1e6"

test testSensAcClass-1.2 {test SensAc class} -setup {
    set res [SensAc new v(1,out) dec 10 1 1e6]
} -body {
    set result [$res genSPICEString]
} -result ".sens v(1,out) ac dec 10 1 1e6"
    
    # ________________________ SensDc class tests _________________________ #
    
test testSensDcClass-1.1 {test SensDc class} -setup {
    set res [SensDc new v(1,out) -name sensdc1]
} -body {
    set result [$res genSPICEString]
} -result ".sens v(1,out)"
    
    # ________________________ Tran class tests _________________________ #
    
test testTranClass-1.1 {test Tran class} -setup {
    set res [Tran new 1e-6 1e-3 -uic -name tran1]
} -body {
    set result [$res genSPICEString]
} -result ".tran 1e-6 1e-3 uic"

test testTranClass-1.2 {test Tran class} -setup {
    set res [Tran new 1e-6 {tend -eq} -uic -name tran1]
} -body {
    set result [$res genSPICEString]
} -result ".tran 1e-6 \{tend\} uic"

test testTranClass-1.3 {test Tran class} -setup {
    set res [Tran new 1e-6 {tend -eq}]
} -body {
    set result [$res genSPICEString]
} -result ".tran 1e-6 \{tend\}"

    # ________________________ Op class tests _________________________ #
    
test testOpClass-1.1 {test Op class} -setup {
    set res [Op new -name dc1]
} -body {
    set result [$res genSPICEString]
} -result ".op"

test testOpClass-1.2 {test Op class} -setup {
    set res [Op new]
} -body {
    set result [$res genSPICEString]
} -result ".op"

cleanupTests