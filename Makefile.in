# Makefile.in --
#
#	This file is a Makefile for Sample TEA Extension.  If it has the name
#	"Makefile.in" then it is a template for a Makefile;  to generate the
#	actual Makefile, run "./configure", which is a configuration script
#	generated by the "autoconf" program (constructs like "@foo@" will get
#	replaced in the actual Makefile.
#
# Copyright (c) 1999 Scriptics Corporation.
# Copyright (c) 2002-2005 ActiveState Corporation.
#
# See the file "license.terms" for information on usage and redistribution
# of this file, and for a DISCLAIMER OF ALL WARRANTIES.

PKG_TCL_SOURCES = @PKG_TCL_SOURCES@

SHELL		= @SHELL@

srcdir		= @srcdir@
prefix		= @prefix@
exec_prefix	= @exec_prefix@

bindir		= @bindir@
libdir		= @libdir@
includedir	= @includedir@
datarootdir	= @datarootdir@
runstatedir	= @runstatedir@
datadir		= @datadir@
mandir		= @mandir@

DESTDIR		= 

PKG_DIR		= $(PACKAGE_NAME)$(PACKAGE_VERSION)
pkgdatadir	= $(datadir)/$(PKG_DIR)
pkglibdir	= $(libdir)/$(PKG_DIR)
pkgincludedir	= $(includedir)/$(PKG_DIR)

top_builddir	= @abs_top_builddir@

INSTALL_OPTIONS	=
INSTALL		= @INSTALL@ $(INSTALL_OPTIONS)
INSTALL_DATA_DIR = @INSTALL_DATA_DIR@
INSTALL_DATA	= @INSTALL_DATA@
INSTALL_PROGRAM	= @INSTALL_PROGRAM@
INSTALL_SCRIPT	= @INSTALL_SCRIPT@
INSTALL_LIBRARY	= @INSTALL_LIBRARY@

PACKAGE_NAME	= @PACKAGE_NAME@
PACKAGE_VERSION	= @PACKAGE_VERSION@

#TCL_DEFS	= @TCL_DEFS@
TCL_BIN_DIR	= @TCL_BIN_DIR@
TCL_SRC_DIR	= @TCL_SRC_DIR@
#TK_BIN_DIR	= @TK_BIN_DIR@
#TK_SRC_DIR	= @TK_SRC_DIR@

EXTRA_PATH	= $(top_builddir):$(TCL_BIN_DIR)
TCLLIBPATH	= @TCLLIBPATH@
TCLSH_ENV	= TCL_LIBRARY=`@CYGPATH@ $(TCL_SRC_DIR)/library`
PKG_ENV		= PATH="$(EXTRA_PATH):$(PATH)" TCLLIBPATH="$(TCLLIBPATH)"

TCLSH_PROG	= @TCLSH_PROG@
TCLSH		= $(PKG_ENV) $(TCLSH_PROG)

#WISH_ENV	= TK_LIBRARY=`@CYGPATH@ $(TK_SRC_DIR)/library`
#WISH_PROG	= @WISH_PROG@
#WISH		= $(TCLSH_ENV) $(WISH_ENV) $(PKG_ENV) $(WISH_PROG)

# Move pkgIndex.tcl to 'BINARIES' var if it is generated in the Makefile
CONFIG_CLEAN_FILES = Makefile pkgIndex.tcl
CLEANFILES	= @CLEANFILES@


all: libraries

binaries: $(BINARIES)

libraries:

doc:
	$(TCLSH) $(srcdir)/docs/doc_gen.tcl

install: all install-libraries install-doc

install-libraries:
	@mkdir -p $(DESTDIR)$(pkglibdir)
	@list='$(PKG_TCL_SOURCES)'; for p in $$list; do \
	  if test -f $(srcdir)/$$p; then \
	    destp=`basename $$p`; \
	    echo " Install $$destp $(DESTDIR)$(pkglibdir)/$$destp"; \
	    $(INSTALL_DATA) $(srcdir)/$$p $(DESTDIR)$(pkglibdir)/$$destp; \
	  fi; \
	done
	@echo " Install pkgIndex.tcl $(DESTDIR)$(pkglibdir)"; \
	$(INSTALL_DATA) pkgIndex.tcl $(DESTDIR)$(pkglibdir);
	$(INSTALL_DATA_DIR) "$(DESTDIR)$(pkglibdir)/src" "$(DESTDIR)$(pkglibdir)/src/ngspice" \
	"$(DESTDIR)$(pkglibdir)/src/xyce" "$(DESTDIR)$(pkglibdir)/src/ltspice" "$(DESTDIR)$(pkglibdir)/lib" \
	"$(DESTDIR)$(pkglibdir)/lib/argparse" "$(DESTDIR)$(pkglibdir)/lib/measure" "$(DESTDIR)$(pkglibdir)/lib/extexpr"
	@echo " Install $(srcdir)/lib/argparse/argparse.tcl $(DESTDIR)$(pkglibdir)/lib/argparse"; \
	$(INSTALL_DATA) $(srcdir)/lib/argparse/argparse.tcl $(DESTDIR)$(pkglibdir)/lib/argparse;
	@echo " Install $(srcdir)/lib/argparse/pkgIndex.tcl $(DESTDIR)$(pkglibdir)/lib/argparse"; \
	$(INSTALL_DATA) $(srcdir)/lib/argparse/pkgIndex.tcl $(DESTDIR)$(pkglibdir)/lib/argparse;
	@echo " Install $(srcdir)/lib/measure/measure.tcl $(DESTDIR)$(pkglibdir)/lib/measure"; \
	$(INSTALL_DATA) $(srcdir)/lib/measure/measure.tcl $(DESTDIR)$(pkglibdir)/lib/measure;
	@echo " Install $(srcdir)/lib/measure/pkgIndex.tcl $(DESTDIR)$(pkglibdir)/lib/measure"; \
	$(INSTALL_DATA) $(srcdir)/lib/measure/pkgIndex.tcl $(DESTDIR)$(pkglibdir)/lib/measure;
	@echo " Install $(srcdir)/lib/extexpr/extexpr.tcl $(DESTDIR)$(pkglibdir)/lib/extexpr"; \
	$(INSTALL_DATA) $(srcdir)/lib/extexpr/extexpr.tcl $(DESTDIR)$(pkglibdir)/lib/extexpr;
	@echo " Install $(srcdir)/lib/extexpr/pkgIndex.tcl $(DESTDIR)$(pkglibdir)/lib/extexpr"; \
	$(INSTALL_DATA) $(srcdir)/lib/extexpr/pkgIndex.tcl $(DESTDIR)$(pkglibdir)/lib/extexpr;
	@echo " Install $(srcdir)/src/aliases.tcl $(DESTDIR)$(pkglibdir)/src"; \
	$(INSTALL_DATA) $(srcdir)/src/aliases.tcl $(DESTDIR)$(pkglibdir)/src;
	@echo " Install $(srcdir)/src/generalClasses.tcl $(DESTDIR)$(pkglibdir)/src"; \
	$(INSTALL_DATA) $(srcdir)/src/generalClasses.tcl $(DESTDIR)$(pkglibdir)/src;
	@echo " Install $(srcdir)/src/specElementsClassesCommon.tcl $(DESTDIR)$(pkglibdir)/src"; \
	$(INSTALL_DATA) $(srcdir)/src/specElementsClassesCommon.tcl $(DESTDIR)$(pkglibdir)/src;
	@echo " Install $(srcdir)/src/specAnalysesClassesCommon.tcl $(DESTDIR)$(pkglibdir)/src"; \
	$(INSTALL_DATA) $(srcdir)/src/specAnalysesClassesCommon.tcl $(DESTDIR)$(pkglibdir)/src;
	@echo " Install $(srcdir)/src/ngspice/specAnalysesClassesNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice"; \
	$(INSTALL_DATA) $(srcdir)/src/ngspice/specAnalysesClassesNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice;
	@echo " Install $(srcdir)/src/ngspice/specElementsClassesNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice"; \
	$(INSTALL_DATA) $(srcdir)/src/ngspice/specElementsClassesNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice;
	@echo " Install $(srcdir)/src/ngspice/specModelsClassesNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice"; \
	$(INSTALL_DATA) $(srcdir)/src/ngspice/specModelsClassesNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice;
	@echo " Install $(srcdir)/src/ngspice/specSimulatorClassesNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice"; \
	$(INSTALL_DATA) $(srcdir)/src/ngspice/specSimulatorClassesNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice;
	@echo " Install $(srcdir)/src/ngspice/netlistParserClassNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice"; \
	$(INSTALL_DATA) $(srcdir)/src/ngspice/netlistParserClassNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice;
	@echo " Install $(srcdir)/src/ngspice/specMiscClassesNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice"; \
	$(INSTALL_DATA) $(srcdir)/src/ngspice/specMiscClassesNgspice.tcl $(DESTDIR)$(pkglibdir)/src/ngspice;
	@echo " Install $(srcdir)/src/xyce/specAnalysesClassesXyce.tcl $(DESTDIR)$(pkglibdir)/src/xyce"; \
	$(INSTALL_DATA) $(srcdir)/src/xyce/specAnalysesClassesXyce.tcl $(DESTDIR)$(pkglibdir)/src/xyce;
	@echo " Install $(srcdir)/src/xyce/specElementsClassesXyce.tcl $(DESTDIR)$(pkglibdir)/src/xyce"; \
	$(INSTALL_DATA) $(srcdir)/src/xyce/specElementsClassesXyce.tcl $(DESTDIR)$(pkglibdir)/src/xyce;
	@echo " Install $(srcdir)/src/xyce/specModelsClassesXyce.tcl $(DESTDIR)$(pkglibdir)/src/xyce"; \
	$(INSTALL_DATA) $(srcdir)/src/xyce/specModelsClassesXyce.tcl $(DESTDIR)$(pkglibdir)/src/xyce;
	@echo " Install $(srcdir)/src/xyce/specSimulatorClassesXyce.tcl $(DESTDIR)$(pkglibdir)/src/xyce"; \
	$(INSTALL_DATA) $(srcdir)/src/xyce/specSimulatorClassesXyce.tcl $(DESTDIR)$(pkglibdir)/src/xyce;
	@echo " Install $(srcdir)/src/ltspice/specAnalysesClassesLtspice.tcl $(DESTDIR)$(pkglibdir)/src/ltspice"; \
	$(INSTALL_DATA) $(srcdir)/src/ltspice/specAnalysesClassesLtspice.tcl $(DESTDIR)$(pkglibdir)/src/ltspice;
	@echo " Install $(srcdir)/src/ltspice/specElementsClassesLtspice.tcl $(DESTDIR)$(pkglibdir)/src/ltspice"; \
	$(INSTALL_DATA) $(srcdir)/src/ltspice/specElementsClassesLtspice.tcl $(DESTDIR)$(pkglibdir)/src/ltspice;
	@echo " Install $(srcdir)/src/ltspice/specModelsClassesLtspice.tcl $(DESTDIR)$(pkglibdir)/src/ltspice"; \
	$(INSTALL_DATA) $(srcdir)/src/ltspice/specModelsClassesLtspice.tcl $(DESTDIR)$(pkglibdir)/src/ltspice;
	@echo " Install $(srcdir)/src/ltspice/specSimulatorClassesLtspice.tcl $(DESTDIR)$(pkglibdir)/src/ltspice"; \
	$(INSTALL_DATA) $(srcdir)/src/ltspice/specSimulatorClassesLtspice.tcl $(DESTDIR)$(pkglibdir)/src/ltspice;

install-doc:
	@$(INSTALL_DATA_DIR) "$(DESTDIR)$(mandir)/mann"
	@echo "Installing documentation in $(DESTDIR)$(mandir)"
	@list='$(srcdir)/docs/*.n'; for i in $$list; do \
	    echo "Installing $$i"; \
	    $(INSTALL_DATA) $$i "$(DESTDIR)$(mandir)/mann" ; \
	done
	@$(INSTALL_DATA_DIR) "$(DESTDIR)/usr/local/share/$(PACKAGE_NAME)$(PACKAGE_VERSION)/doc"
	@echo "Installing html documentation in $(DESTDIR)/usr/local/share/$(PACKAGE_NAME)$(PACKAGE_VERSION)/doc"
	@list='$(srcdir)/docs/*.html'; for i in $$list; do \
	    echo "Installing $$i"; \
	    $(INSTALL_DATA) $$i "$(DESTDIR)/usr/local/share/$(PACKAGE_NAME)$(PACKAGE_VERSION)/doc" ; \
	done
	echo "Installing $(srcdir)/docs/assets"; \
	cp -r $(srcdir)/docs/assets "$(DESTDIR)/usr/local/share/$(PACKAGE_NAME)$(PACKAGE_VERSION)/doc";

test: libraries
	$(TCLSH) `@CYGPATH@ $(srcdir)/test/all.tcl` $(TESTFLAGS)

shell: binaries libraries
	@$(TCLSH) $(SCRIPT)

depend:

COMPRESS	= tar zcvf $(PKG_DIR).tar.gz $(PKG_DIR)
COMPRESS_ZIP= zip -r $(PKG_DIR).zip $(PKG_DIR)
DIST_ROOT	= /tmp/dist
DIST_DIR	= $(DIST_ROOT)/$(PKG_DIR)

dist-clean:
	rm -rf $(DIST_DIR) $(DIST_ROOT)/$(PKG_DIR).tar.*;\
	rm -rf $(DIST_DIR) $(DIST_ROOT)/$(PKG_DIR).zip

dist: dist-clean
	mkdir -p $(DIST_DIR)
	cp -p $(srcdir)/README.md $(DIST_DIR)/
	cp -p $(srcdir)/changelog.txt $(DIST_DIR)/
	cp -p $(srcdir)/LICENSE.txt $(DIST_DIR)/
	for i in $(srcdir)/*.tcl; do \
	    if [ -f $$i ]; then \
		cp -p $$i $(DIST_DIR)/ ; \
	    fi; \
	done;
	cp -r $(srcdir)/src $(DIST_DIR)
	cp -r $(srcdir)/lib $(DIST_DIR)
	mkdir -p $(DIST_DIR)/test
	cp -r $(srcdir)/test/ltspice $(DIST_DIR)/test/
	cp -r $(srcdir)/test/ngspice $(DIST_DIR)/test/
	cp -r $(srcdir)/test/xyce $(DIST_DIR)/test/
	cp -p $(srcdir)/test/all.tcl $(DIST_DIR)/test/
	cp -p $(srcdir)/test/testUtilities.tcl $(DIST_DIR)/test/
	cp -p $(srcdir)/test/generalClasses.test $(DIST_DIR)/test/
	cp -p $(srcdir)/test/specElemsClassesCommon.test $(DIST_DIR)/test/
	cp -r $(srcdir)/examples $(DIST_DIR)
	(cd $(DIST_ROOT); $(COMPRESS); $(COMPRESS_ZIP))

clean:
	-test -z "$(BINARIES)" || rm -f $(BINARIES)
	-rm -f *.$(OBJEXT) core *.core
	-test -z "$(CLEANFILES)" || rm -f $(CLEANFILES)

distclean: clean
	-rm -f *.tab.c
	-rm -f $(CONFIG_CLEAN_FILES)
	-rm -f config.cache config.log config.status

Makefile: $(srcdir)/Makefile.in  $(top_builddir)/config.status
	cd $(top_builddir) \
	  && CONFIG_FILES=$@ CONFIG_HEADERS= $(SHELL) ./config.status

uninstall-libraries:
	list='$(PKG_TCL_SOURCES)'; for p in $$list; do \
	  p=`basename $$p`; \
	  rm -f "$(DESTDIR)$(pkglibdir)/$$p"; \
	done

uninstall:
	rm -rf "$(DESTDIR)$(pkglibdir)"

.PHONY: all clean depend distclean doc install libraries test
.NOEXPORT:
